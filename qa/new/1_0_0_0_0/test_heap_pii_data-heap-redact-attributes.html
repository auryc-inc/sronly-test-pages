<!DOCTYPE html>
<html>

<head>
    <script type="text/javascript">
        localStorage.removeItem('_ar_:behavior:ignoreHeapTextCapture');
        localStorage.removeItem('_ar_:record:disableSRTextCapture');
        localStorage.removeItem('_ar_:record:isRedactTextEnabled');
        localStorage.removeItem('_ar_:record:srOnlyDisableTextCaptureEnabled');

        window._auryc_is_inner_frame_ =  true;
        window['__AURYC_JSLIB_PATH__'] = 'https://cdn.auryc.dev/libs/latest/';
        window.heap = {"config":{"disableTextCapture":false}}
    </script>
    
  <title>Heap data-heap-redact-attributes</title>
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:100,300,400,600,500,700" rel="stylesheet"
    type="text/css" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="cache-control" content="max-age=0" />
  <meta http-equiv="cache-control" content="no-cache" />
  <meta http-equiv="expires" content="0" />
  <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
  <meta http-equiv="pragma" content="no-cache" />
  <script data-cfasync="false" charset="utf-8">
    (function (g) {
      g.aurycReadyCb = g.aurycReadyCb || [];
      var d = document,
        i,
        am = d.createElement("script"),
        h = d.head || d.getElementsByTagName("head")[0],
        aex = {
          src: "container.js",
          "data-cfasync": "false",
          async: "true",
          defer: "true",
          "data-vendor": "userty",
          "data-role": "container",
          charset: "utf-8",
        };
      for (var attr in aex) {
        am.setAttribute(attr, aex[attr]);
      }
      h.appendChild(am);
    })(window);
  </script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <script src="https://code.highcharts.com/highcharts.js"></script>
  <style>
    * {
      margin: 1em;
    }
  </style>
</head>

<body>
  <h1>Heap data-heap-redact-attributes</h1>
  <p>
    This is a test of the title redaction feature of the Heap SDK. The title
    of this page should be masked.......
  </p>


  <div>
    ↓↓↓↓↓↓↓↓↓↓↓↓ test for link issue reported whiile integarting heap ↓↓↓↓↓↓↓↓↓↓↓↓↓↓
    <div data-heap-redact-attributes="" style="background-color: antiquewhite;">
      <div>
        <a href="ssn.gov/12345">
          <div>text</div>
          <div id="redact-href-click-non-root">
            <div>
              get your ssn info! (no value on heap-redact-attributes)
            </div>
          </div>
        </a>
      </div>
    </div>
    ↑↑↑↑↑↑↑↑↑↑↑↑↑↑test for link issue reported whiile integarting heap↑↑↑↑↑↑↑↑↑↑↑↑↑↑
  </div>

  <div>
    <a href="test.html">A link</a>
  </div>

  <div>
    <a>Another link</a>
  </div>

  <div>the box below should be masked.</div>
  <div data-heap-redact-attributes="attr1,attr2">
    hidden


    <a href="javascript:void(0)" data-heap-redact-attributes>
      redact-attr link inner text
    </a>

    <a href="javascript:void(0)" data-heap-redact-attributes title="redact-attr link with title">
      redact-attr link with title
    </a>

    <div data-heap-redact-attributes>
      <button data-heap-redact-text>This text should be redacted </button>
    </div>
    <div data-heap-redact-attributes>
      <a href="javascript:void(0)" data-heap-redact-text>This text should be redacted </a>
    </div>

    <div>
      <div data-heap-redact-attributes="attr1,attr2">hidden</div>
    </div>
  </div>

  <hr/>
  <a href="javascript:void(0)" data-heap-redact-attributes>
    redact-attr link inner text
  </a>

  <a href="javascript:void(0)" data-heap-redact-attributes title="redact-attr link with title">
    redact-attr link with title
  </a>

  <div data-heap-redact-attributes>
    <button data-heap-redact-text>This text should be redacted </button>
  </div>
  <div data-heap-redact-attributes>
    <a href="javascript:void(0)" data-heap-redact-text>This text should be redacted </a>
  </div>

  <button data-heap-redact-attributes title="">
    redact-attr lin inner text
  </button>
  <hr/>
  <div>the box above should be masked.</div>
</body>

<button id="addDynamicSection">Add a section dynamically with data-heap-redact-attributes</button>

<script>
  document.addEventListener("click", function (e) {
    if (e.target.tagName === "BUTTON") {
      var div = document.createElement("div");
      div.setAttribute("data-heap-redact-attributes", "attr1,attr2");
      div.innerHTML = "Dynamically added, should be hidden";
      document.body.appendChild(div);
    }
  });
</script>

</html>
