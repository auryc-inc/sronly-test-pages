<!DOCTYPE html>
<html>

<head>
    <script type="text/javascript">
        localStorage.removeItem('_ar_:behavior:ignoreHeapTextCapture');
        localStorage.removeItem('_ar_:record:disableSRTextCapture');
        localStorage.removeItem('_ar_:record:isRedactTextEnabled');
        localStorage.removeItem('_ar_:record:srOnlyDisableTextCaptureEnabled');

        window._auryc_is_inner_frame_ =  true;
        window['__AURYC_JSLIB_PATH__'] = 'https://cdn.auryc.dev/libs/latest/';
        window.heap = {"config":{"disableTextCapture":false}}
    </script>
    
  <title>Heap heap-ignore</title>
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:100,300,400,600,500,700" rel="stylesheet"
    type="text/css" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="cache-control" content="max-age=0" />
  <meta http-equiv="cache-control" content="no-cache" />
  <meta http-equiv="expires" content="0" />
  <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
  <meta http-equiv="pragma" content="no-cache" />
  <script data-cfasync="false" charset="utf-8">
    (function (g) {
      g.aurycReadyCb = g.aurycReadyCb || [];
      var d = document,
        i,
        am = d.createElement("script"),
        h = d.head || d.getElementsByTagName("head")[0],
        aex = {
          src: "container.js",
          "data-cfasync": "false",
          async: "true",
          defer: "true",
          "data-vendor": "userty",
          "data-role": "container",
          charset: "utf-8",
        };
      for (var attr in aex) {
        am.setAttribute(attr, aex[attr]);
      }
      h.appendChild(am);
    })(window);
  </script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <script src="https://code.highcharts.com/highcharts.js"></script>
  <style>
    * {
      margin: 1em;
    }
  </style>
</head>

<body>
  <h1>Heap heap-ignore</h1>
  <hr/>
  <a href="javascript:void(0)" heap-ignore title="This text should be redacted">
    heap-ignore link inner text
  </a>

  <a href="javascript:void(0)" heap-ignore title="This text should be redacted">
    This text should be redacted.......
  </a>

  <div heap-ignore>
    <button data-heap-redact-text>7 This text should be redacted </button>
  </div>
  <div heap-ignore title="heap-ignore" text="heap-ignore">
    <a href="javascript:void(0)" data-heap-redact-text>8 This text should be redacted </a>
  </div>

  <button heap-ignore title="">
    This text should be redacted
  </button>
  <hr/>
  <div>the box above should be masked.</div>
</body>

<button id="addDynamicSection">Add a section dynamically with heap-ignore</button>

<script>
  document.addEventListener("click", function (e) {
    if (e.target.id === "addDynamicSection") {
      var div = document.createElement("div");
      div.setAttribute("heap-ignore", "attr1,attr2");
      div.innerHTML = "Dynamically added, should be hidden";
      document.body.appendChild(div);
      try {
        var xhr = new XMLHttpRequest();
        xhr.open("GET", "/test_heap_pii_heap-ignore.html", true);
        xhr.send();
      } catch (e) {
        console.log(e);
      }

    }
  });
</script>

</html>
